<!DOCTYPE HTML>
<HTML>
<HEAD>
    <link href="bower/css/bootstrap.min.css" rel="stylesheet">
    <link href="bower/css/cornerstone.css" rel="stylesheet">

    <script src="bower/js/jquery.min.js"></script>
    <script src="bower/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
    <script src="bower/js/fhir_app.js"></script>   
    <script src="bower/js/fhir_controller.js"></script>
    <script src="bower/js/fhir_service.js"></script>
  
<style>
table {
    border-collapse: collapse;
    width: 30%;
}
table, th, td {
    border: 1px solid black;
}
td, th {
    padding: 5px;
}
th {
    background-color: #81BEF7
}
tr:nth-child(odd) {
    background: #DEDFE0;
}
</style>

</HEAD>
<BODY>


<div class="container" ng-app="FHIRapp" ng-controller="reportSelectController">
    <div class="row">
        <div class="jumbotron">
            <h2>FHIR/DICOMWeb Dev Project by Vamsi Nath</h2>
            Radiology EMR client based on FHIR and DICOMweb REST API's.  Select a patient's reports based on type
        </div>
    </div>
    <div id="main">
        <div class="row">
            <form id="searchForm" class="form-inline" role="form">
            <button type="submit" class="btn btn-primary" ng-click="fetch()">Search</button>
            <div class="form-group">
                <label for="inputName">Name: </label>
                <input type="text" class="form-control" id="inputName" placeholder="" value="" ng-model="name">
            </div>
            <div class="form-group">
                <div class="dropdown">
                    <select name="reportType" class="form-control"ng-model="reportType" ng-options="r.code as r.display for r in repCat">
                        <option value="">-- Select ReportType --</option>
                    </select>
                </div>
            </div>
            </form>
        </div>
        <div>
        <p>
        <div class="row">
            <div id="links" class="row">
                <span ng-repeat="nav in navlinks">
                <button class='btn' ng-click="navSnapshot(nav.href)">{{nav.rel}}</button>
                </span>
            </div>
            <div class="row" ng-show="reports"><i>Total results: {{ totalResults }}</i>
            </div>
            <table class="table">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Date</th>
                    <th>Acc#</th>
                    <th>Text</th>
                    <th>Type</th>
                </tr>
                </thead>
                <tbody id="reportListTable">
                <tr ng-repeat="x in reports">
                <td>{{ x.content.subject.reference.split("/")[1] }}
                <td>{{ x.content.issued }}</td>
                <td>{{ x.content.identifier.value }}</td>
                <td>{{ x.content.name.text }}</td>
                <td>{{ reportType }}</td>
                </tbody>
            </table>
     
        </div>
</div>

</BODY>
</HTML>        
                